<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>My Properties - Smart Rent House</title>
    <style>
        :root{--bg:#f6f8fb;--card:#ffffff;--accent:#4f46e5;--muted:#6b7280}
        html,body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:linear-gradient(135deg,#eef2ff 0%, #f8fafc 100%);color:#0f172a}
        .navbar{background:#fff;padding:16px 32px;box-shadow:0 2px 8px rgba(15,23,42,0.04);display:flex;justify-content:space-between;align-items:center}
        .logo{font-weight:700;color:var(--accent)}
        .nav-links{display:flex;gap:16px}
        .nav-links a{color:var(--accent);text-decoration:none;font-weight:500}
        .container{max-width:1200px;margin:32px auto;padding:0 32px}
        h1{font-size:2rem;margin:0 0 8px}
        .lead{color:var(--muted);margin:0 0 32px}
        .btn{display:inline-block;padding:12px 24px;border-radius:10px;background:var(--accent);color:white;text-decoration:none;font-weight:600;cursor:pointer;border:none}
        .btn-secondary{background:transparent;border:1px solid var(--accent);color:var(--accent)}
        .properties-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:24px;margin-top:24px}
        .property-card{background:var(--card);border-radius:12px;overflow:hidden;box-shadow:0 4px 12px rgba(15,23,42,0.06);transition:all 0.3s ease}
        .property-card:hover{box-shadow:0 8px 24px rgba(15,23,42,0.12)}
        .property-image{width:100%;height:200px;background:#f3f4f6;display:flex;align-items:center;justify-content:center;font-size:48px}
        .property-body{padding:20px}
        .property-name{font-size:1.2rem;font-weight:600;margin:0 0 6px}
        .property-address{color:var(--muted);font-size:0.9rem;margin:0 0 8px}
        .property-price{font-size:1.4rem;font-weight:700;color:var(--accent);margin:8px 0}
        .status-badge{display:inline-block;padding:4px 12px;border-radius:20px;font-size:0.85rem;font-weight:600;margin:8px 0}
        .status-pending{background:#fef3c7;color:#92400e}
        .status-approved{background:#dcfce7;color:#166534}
        .status-rejected{background:#fee2e2;color:#991b1b}
        .empty-state{text-align:center;padding:60px 32px;color:var(--muted)}
        .empty-icon{font-size:64px;margin-bottom:16px}
        @media (max-width:768px){.container{padding:0 16px}.properties-grid{grid-template-columns:1fr}}
    </style>
</head>
<body>
<!-- Navbar -->
<div class="navbar">
    <div class="logo">Smart Rent House</div>
    <div class="nav-links">
        <a th:href="@{/landlord/my-properties}">My Properties</a>
        <a th:href="@{/logout}">Logout</a>
    </div>
</div>

<!-- Main Content -->
<div class="container">
    <h1>My Properties</h1>
    <p class="lead">Manage your property listings and check verification status</p>

    <!-- Add New Property Button -->
    <div style="margin-bottom:32px">
        <a th:href="@{/landlord/add-property}" class="btn">+ Add New Property</a>
    </div>

    <!-- Empty State -->
    <div th:if="${#lists.isEmpty(properties)}" class="empty-state">
        <div class="empty-icon">üè†</div>
        <h2>No properties listed yet</h2>
        <p>Start by adding your first property for rent.</p>
        <a th:href="@{/landlord/add-property}" class="btn" style="margin-top:16px">Add Your First Property</a>
    </div>

    <!-- Properties Grid -->
    <div th:if="${!#lists.isEmpty(properties)}" class="properties-grid">
        <div th:each="property : ${properties}" class="property-card">
            <div class="property-image">
                üè†
            </div>
            <div class="property-body">
                <h3 class="property-name" th:text="${property.name}">Property Name</h3>
                <p class="property-address" th:text="${property.address + ', ' + property.city + ', ' + property.state + ' - ' + property.pincode}">Address</p>
                <div class="property-price" th:text="'‚Çπ' + ${#numbers.formatDecimal(property.price, 1, 0)}">‚Çπ50,000</div>

                <!-- Status Badge -->
                <div th:if="${property.verificationStatus == 'PENDING'}" class="status-badge status-pending">
                    ‚è≥ Pending Verification
                </div>
                <div th:if="${property.verificationStatus == 'APPROVED'}" class="status-badge status-approved">
                    ‚úì Approved & Listed
                </div>
                <div th:if="${property.verificationStatus == 'REJECTED'}" class="status-badge status-rejected">
                    ‚úó Rejected
                </div>

                <!-- Admin Notes -->
                <p th:if="${property.adminNotes}" style="margin-top:12px;font-size:0.9rem;color:var(--muted);border-left:2px solid var(--accent);padding-left:8px">
                    <strong>Admin Notes:</strong> <br th:text="${property.adminNotes}">
                </p>

                <!-- View Details -->
                <a th:href="@{/landlord/property-details/{id}(id=${property.id})}" style="display:inline-block;margin-top:12px;color:var(--accent);text-decoration:none;font-weight:600">View Details ‚Üí</a>
            </div>
        </div>
    </div>
</div>
</body>
</html>
