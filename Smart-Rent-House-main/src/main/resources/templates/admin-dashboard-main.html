<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Smart Rent House</title>
    <style>
        :root{--accent:#4f46e5;--danger:#ef4444;--success:#10b981;--warning:#f59e0b;--muted:#6b7280;--bg:#f6f8fb;--card:#ffffff}
        html,body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:#0f172a;min-height:100vh}
        .navbar{background:var(--card);padding:16px 32px;box-shadow:0 2px 8px rgba(15,23,42,0.04);display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:100}
        .logo{font-weight:700;color:var(--accent);font-size:1.2rem}
        .nav-links{display:flex;gap:24px;align-items:center}
        .nav-links a{color:var(--accent);text-decoration:none;font-weight:500}
        .logout-btn{background:var(--danger);color:white;padding:8px 16px;border-radius:6px;text-decoration:none;font-weight:600}
        .container{max-width:1200px;margin:0 auto;padding:32px}
        h1{font-size:2rem;margin:0 0 8px}
        .subtitle{color:var(--muted);margin:0 0 32px}
        .stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;margin-bottom:32px}
        .stat-card{background:var(--card);padding:24px;border-radius:12px;box-shadow:0 2px 8px rgba(15,23,42,0.06)}
        .stat-label{color:var(--muted);font-size:0.9rem;font-weight:600}
        .stat-value{font-size:2rem;font-weight:700;color:var(--accent);margin:8px 0}
        .stat-icon{font-size:2.5rem}
        .section{background:var(--card);padding:24px;border-radius:12px;box-shadow:0 2px 8px rgba(15,23,42,0.06);margin-bottom:24px}
        .section h2{margin:0 0 16px;font-size:1.3rem;border-bottom:2px solid var(--accent);padding-bottom:12px}
        .action-buttons{display:flex;gap:12px;margin-bottom:20px}
        .btn{padding:10px 20px;border:none;border-radius:6px;font-weight:600;cursor:pointer;text-decoration:none;transition:all 0.2s;display:inline-block}
        .btn-primary{background:var(--accent);color:white}
        .btn-primary:hover{opacity:0.9}
        .btn-danger{background:var(--danger);color:white}
        .btn-success{background:var(--success);color:white}
        .table-container{overflow-x:auto}
        table{width:100%;border-collapse:collapse}
        th{background:#f3f4f6;padding:12px;text-align:left;font-weight:600;border-bottom:2px solid #e5e7eb}
        td{padding:12px;border-bottom:1px solid #e5e7eb}
        tr:hover{background:#f9fafb}
        .status-badge{display:inline-block;padding:4px 12px;border-radius:20px;font-size:0.85rem;font-weight:600}
        .status-pending{background:#fef3c7;color:#92400e}
        .status-approved{background:#dcfce7;color:#166534}
        .status-rejected{background:#fee2e2;color:#991b1b}
        .footer{background:#0f172a;color:white;padding:40px 32px;margin-top:40px}
        .footer-content{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:32px;margin-bottom:32px}
        .footer-section h4{margin-bottom:16px}
        .footer-section a{color:rgba(255,255,255,0.7);text-decoration:none;display:block;margin:8px 0}
        @media (max-width:768px){.container{padding:16px}.stats-grid{grid-template-columns:1fr}.action-buttons{flex-direction:column}.btn{width:100%}}
    </style>
</head>
<body>
    <!-- Navbar -->
    <div class="navbar">
        <div class="logo">üè† Smart Rent House - Admin</div>
        <div class="nav-links">
            <span style="color:var(--muted);font-weight:500" th:text="'Welcome, ' + ${admin.firstName}">Welcome, Admin</span>
            <a th:href="@{/home}">Home</a>
            <a th:href="@{/logout}" class="logout-btn">Logout</a>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container">
        <h1>üìä Admin Dashboard</h1>
        <p class="subtitle">Manage properties, users, and platform settings</p>

        <!-- Statistics -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">üë•</div>
                <div class="stat-label">Total Users</div>
                <div class="stat-value" th:text="${totalUsers}">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üè†</div>
                <div class="stat-label">Total Properties</div>
                <div class="stat-value" th:text="${totalProperties}">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚è≥</div>
                <div class="stat-label">Pending Verification</div>
                <div class="stat-value" th:text="${pendingCount}">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚úì</div>
                <div class="stat-label">Approved Properties</div>
                <div class="stat-value" th:text="${approvedCount}">0</div>
            </div>
        </div>

        <!-- Property Management Section -->
        <div class="section">
            <h2>üèòÔ∏è Property Management</h2>
            <div class="action-buttons">
                <a th:href="@{/admin/pending-properties}" class="btn btn-primary">View Pending Properties</a>
                <a th:href="@{/admin/approved-properties}" class="btn btn-success">View Approved Properties</a>
                <a th:href="@{/admin/rejected-properties}" class="btn btn-danger">View Rejected Properties</a>
            </div>
        </div>

        <!-- Recent Pending Properties -->
        <div class="section">
            <h2>üìã Recent Pending Properties</h2>
            <div th:if="${#lists.isEmpty(pendingProperties)}" style="text-align:center;padding:40px;color:var(--muted)">
                <p>‚úì No pending properties at this time</p>
            </div>
            <div class="table-container" th:unless="${#lists.isEmpty(pendingProperties)}">
                <table>
                    <thead>
                        <tr>
                            <th>Property Name</th>
                            <th>Owner</th>
                            <th>Location</th>
                            <th>Price</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="property : ${pendingProperties}">
                            <td th:text="${property.name}">Property</td>
                            <td th:text="${property.ownerName}">Owner</td>
                            <td th:text="${property.city}">Location</td>
                            <td th:text="'‚Çπ' + ${property.price}">Price</td>
                            <td>
                                <span class="status-badge status-pending">‚è≥ Pending</span>
                            </td>
                            <td>
                                <a th:href="@{/admin/property/{id}(id=${property.id})}" class="btn btn-primary">Review</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>üè† Smart Rent House</h4>
                <p style="color:rgba(255,255,255,0.7);line-height:1.6">Your trusted platform for finding and listing rental properties.</p>
            </div>
            <div class="footer-section">
                <h4>Admin Tools</h4>
                <a href="/admin/pending-properties">Verify Properties</a>
                <a href="/admin/approved-properties">Approved List</a>
                <a href="/admin/rejected-properties">Rejected List</a>
            </div>
            <div class="footer-section">
                <h4>Support</h4>
                <a href="#">Help Center</a>
                <a href="#">Contact Support</a>
                <a href="#">System Status</a>
            </div>
        </div>
        <div style="border-top:1px solid rgba(255,255,255,0.1);padding-top:32px;text-align:center;color:rgba(255,255,255,0.7)">
            <p>&copy; 2025 Smart Rent House Admin. All rights reserved.</p>
        </div>
    </footer>
</body>
</html>
